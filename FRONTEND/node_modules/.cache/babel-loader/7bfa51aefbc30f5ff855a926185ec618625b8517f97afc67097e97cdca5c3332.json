{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mtalh\\\\Documents\\\\5th Semester\\\\Web\\\\Project\\\\FRONTEND\\\\src\\\\components\\\\Productview.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { getproduct, deleteproduct, updateProduct } from \"../Services/api\";\nimport './products.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductView() {\n  _s();\n  const [data, setData] = useState([]);\n  const [editingItem, setEditingItem] = useState(null);\n  const [updatedData, setUpdatedData] = useState({});\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const productDetail = await getproduct();\n      setData(productDetail);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n  const handleDeleteItem = async productId => {\n    try {\n      await deleteproduct(productId);\n      fetchData();\n    } catch (error) {\n      console.error(\"Error deleting item:\", error);\n    }\n  };\n  const handleEdit = item => {\n    setEditingItem(item);\n    setUpdatedData({\n      title: item.title,\n      price: item.price,\n      img: item.img\n    });\n  };\n  const handleCancelEdit = () => {\n    setEditingItem(null);\n    setUpdatedData({});\n  };\n  const handleUpdateItem = async () => {\n    try {\n      await updateProduct(editingItem.id, updatedData);\n      fetchData();\n      handleCancelEdit();\n    } catch (error) {\n      console.error(\"Error updating item:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-cols-1 row-cols-md-3 g-4\",\n        children: data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col col-md-3\",\n          style: {\n            padding: \"15px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.img,\n              className: \"card-img-top cardimg\",\n              alt: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                style: {\n                  textAlign: \"center\"\n                },\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                style: {\n                  textAlign: \"center\"\n                },\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-dark\",\n                  onClick: () => handleDeleteItem(item._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-outline-dark\",\n                  onClick: () => handleEdit(item),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), editingItem && editingItem.id === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"update-form\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: updatedData.title || '',\n                    onChange: e => setUpdatedData({\n                      ...updatedData,\n                      title: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: updatedData.price || '',\n                    onChange: e => setUpdatedData({\n                      ...updatedData,\n                      price: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleUpdateItem,\n                    children: \"Update\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleCancelEdit,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductView, \"/kXosy0zLE95yG31er5IGWzdloQ=\");\n_c = ProductView;\nvar _c;\n$RefreshReg$(_c, \"ProductView\");","map":{"version":3,"names":["React","useState","useEffect","getproduct","deleteproduct","updateProduct","jsxDEV","_jsxDEV","ProductView","_s","data","setData","editingItem","setEditingItem","updatedData","setUpdatedData","fetchData","productDetail","error","console","handleDeleteItem","productId","handleEdit","item","title","price","img","handleCancelEdit","handleUpdateItem","id","className","children","map","style","padding","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","onClick","_id","type","value","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/mtalh/Documents/5th Semester/Web/Project/FRONTEND/src/components/Productview.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getproduct, deleteproduct, updateProduct } from \"../Services/api\";\r\nimport './products.css';\r\n\r\nexport default function ProductView() {\r\n  const [data, setData] = useState([]);\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  const [updatedData, setUpdatedData] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const productDetail = await getproduct();\r\n      setData(productDetail);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (productId) => {\r\n    try {\r\n      await deleteproduct(productId);\r\n      fetchData();\r\n    } catch (error) {\r\n      console.error(\"Error deleting item:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setEditingItem(item);\r\n    setUpdatedData({\r\n      title: item.title,\r\n      price: item.price,\r\n      img: item.img,\r\n    });\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingItem(null);\r\n    setUpdatedData({});\r\n  };\r\n\r\n  const handleUpdateItem = async () => {\r\n    try {\r\n      await updateProduct(editingItem.id, updatedData);\r\n      fetchData();\r\n      handleCancelEdit();\r\n    } catch (error) {\r\n      console.error(\"Error updating item:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row row4\">\r\n        <div className=\"row row-cols-1 row-cols-md-3 g-4\">\r\n          {data.map((item) => (\r\n            <div className=\"col col-md-3\" style={{ padding: \"15px\" }} key={item.id}>\r\n              <div className=\"card\">\r\n                <img src={item.img} className=\"card-img-top cardimg\" alt={item.title} />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\" style={{ textAlign: \"center\" }}>{item.title}</h5>\r\n                  <p className=\"card-text\" style={{ textAlign: \"center\" }}>{item.price}</p>\r\n                  <div className=\"container\">\r\n                    <button className=\"btn btn-outline-dark\" onClick={() => handleDeleteItem(item._id)}>Delete</button>\r\n                    <button className=\"btn btn-outline-dark\" onClick={() => handleEdit(item)}>Edit</button>\r\n                    {editingItem && editingItem.id === item.id && (\r\n                      <div className=\"update-form\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={updatedData.title || ''}\r\n                          onChange={(e) => setUpdatedData({ ...updatedData, title: e.target.value })}\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={updatedData.price || ''}\r\n                          onChange={(e) => setUpdatedData({ ...updatedData, price: e.target.value })}\r\n                        />\r\n                        {/* Add fields for other data */}\r\n                        <button onClick={handleUpdateItem}>Update</button>\r\n                        <button onClick={handleCancelEdit}>Cancel</button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}